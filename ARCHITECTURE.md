# ğŸ“ ARQUITECTURA DEL SISTEMA - ProyectoEduData

**VersiÃ³n:** 1.0.0  
**Fecha:** 2024-12-19  
**Estado:** âœ… DOCUMENTACIÃ“N COMPLETA

---

## ğŸ—ï¸ DIAGRAMA DE ARQUITECTURA GENERAL

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         CAPA DE PRESENTACIÃ“N                        â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   React App      â”‚  â”‚   TypeScript     â”‚  â”‚   Tailwind CSS   â”‚ â”‚
â”‚  â”‚   (Frontend)     â”‚  â”‚   Components     â”‚  â”‚    Styling       â”‚ â”‚
â”‚  â”‚                  â”‚  â”‚                  â”‚  â”‚                  â”‚ â”‚
â”‚  â”‚  â€¢ Dashboard     â”‚  â”‚  â€¢ useContext    â”‚  â”‚  â€¢ Responsive    â”‚ â”‚
â”‚  â”‚  â€¢ Map View      â”‚  â”‚  â€¢ Custom Hooks  â”‚  â”‚  â€¢ Dark Mode     â”‚ â”‚
â”‚  â”‚  â€¢ Reports       â”‚  â”‚  â€¢ Services      â”‚  â”‚  â€¢ Animations    â”‚ â”‚
â”‚  â”‚  â€¢ Analytics     â”‚  â”‚                  â”‚  â”‚                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚            â”‚                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ HTTP/REST (JSON)
             â”‚ Axios Client
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         CAPA DE API (Backend)                       â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    Express.js Server                        â”‚  â”‚
â”‚  â”‚                    (Node.js Runtime)                        â”‚  â”‚
â”‚  â”‚                                                             â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚  â”‚
â”‚  â”‚  â”‚   Routes   â”‚  â”‚ Middleware â”‚  â”‚Controllers â”‚            â”‚  â”‚
â”‚  â”‚  â”‚            â”‚  â”‚            â”‚  â”‚            â”‚            â”‚  â”‚
â”‚  â”‚  â”‚ â€¢ /api/*   â”‚  â”‚ â€¢ Auth     â”‚  â”‚ â€¢ Indicatorâ”‚            â”‚  â”‚
â”‚  â”‚  â”‚ â€¢ /auth    â”‚  â”‚ â€¢ CORS     â”‚  â”‚ â€¢ Report   â”‚            â”‚  â”‚
â”‚  â”‚  â”‚ â€¢ /reports â”‚  â”‚ â€¢ Error    â”‚  â”‚ â€¢ Region   â”‚            â”‚  â”‚
â”‚  â”‚  â”‚ â€¢ /etl     â”‚  â”‚ â€¢ Role     â”‚  â”‚ â€¢ ETL      â”‚            â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                              â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚  Services  â”‚  â”‚  Business Logic   â”‚  â”‚  Utils     â”‚           â”‚
â”‚  â”‚            â”‚  â”‚                   â”‚  â”‚            â”‚           â”‚
â”‚  â”‚ â€¢ ETL      â”‚  â”‚ â€¢ Data Transform  â”‚  â”‚ â€¢ Constantsâ”‚           â”‚
â”‚  â”‚ â€¢ API Call â”‚  â”‚ â€¢ Validation      â”‚  â”‚ â€¢ Helpers  â”‚           â”‚
â”‚  â”‚ â€¢ Report   â”‚  â”‚ â€¢ Comparison      â”‚  â”‚ â€¢ Auth     â”‚           â”‚
â”‚  â”‚ â€¢ External â”‚  â”‚ â€¢ Gap Detection   â”‚  â”‚            â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                  â”‚              â”‚              â”‚
        â–¼                  â–¼              â–¼              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MySQL DB    â”‚  â”‚  MEN API     â”‚  â”‚  DANE API    â”‚  â”‚ JWT Auth     â”‚
â”‚              â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚
â”‚ â€¢ Indicators â”‚  â”‚ â€¢ Education  â”‚  â”‚ â€¢ Statistics â”‚  â”‚ â€¢ Tokens     â”‚
â”‚ â€¢ Regions    â”‚  â”‚   Data       â”‚  â”‚   Data       â”‚  â”‚ â€¢ Roles      â”‚
â”‚ â€¢ Reports    â”‚  â”‚ â€¢ Coverage   â”‚  â”‚ â€¢ Population â”‚  â”‚ â€¢ Validation â”‚
â”‚ â€¢ Users      â”‚  â”‚ â€¢ Dropout    â”‚  â”‚ â€¢ GDP        â”‚  â”‚              â”‚
â”‚ â€¢ ETL Logs   â”‚  â”‚ â€¢ Retention  â”‚  â”‚ â€¢ Indicators â”‚  â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¢ ARQUITECTURA EN CAPAS

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PRESENTACIÃ“N                                â”‚
â”‚        (Frontend - React + TypeScript + Tailwind)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    APLICACIÃ“N                                  â”‚
â”‚         (Routing, State Management, Context)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  LÃ“GICA DE NEGOCIO                             â”‚
â”‚    (Services, Hooks, Validators, Transformers)               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                       API REST                                 â”‚
â”‚    (Express Controllers, Routes, Middleware)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    PERSISTENCIA                                â”‚
â”‚   (Sequelize Models, Database Queries, Transactions)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  INTEGRACIÃ“N EXTERNA                           â”‚
â”‚    (APIs de MEN, DANE, JWT Auth, File Export)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                   INFRAESTRUCTURA                              â”‚
â”‚    (MySQL Database, Node.js Runtime, File System)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ ESTRUCTURA DEL PROYECTO

```
ProyectoEduData/
â”‚
â”œâ”€â”€ ğŸ“± frontend/                           # AplicaciÃ³n React
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/                    # Componentes React
â”‚   â”‚   â”‚   â”œâ”€â”€ charts/                    # GrÃ¡ficos y visualizaciÃ³n
â”‚   â”‚   â”‚   â”œâ”€â”€ common/                    # Componentes reutilizables
â”‚   â”‚   â”‚   â”œâ”€â”€ maps/                      # Mapa interactivo
â”‚   â”‚   â”‚   â”œâ”€â”€ reports/                   # Generador de reportes
â”‚   â”‚   â”‚   â””â”€â”€ ui/                        # Componentes UI
â”‚   â”‚   â”œâ”€â”€ pages/                         # PÃ¡ginas principales
â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard.tsx              # Panel principal
â”‚   â”‚   â”‚   â”œâ”€â”€ Admin.tsx                  # Panel administrativo
â”‚   â”‚   â”‚   â”œâ”€â”€ Comparison.tsx             # Comparativa de regiones
â”‚   â”‚   â”‚   â”œâ”€â”€ Reports.tsx                # Generador de reportes
â”‚   â”‚   â”‚   â”œâ”€â”€ Login.tsx                  # AutenticaciÃ³n
â”‚   â”‚   â”‚   â””â”€â”€ Home.tsx                   # PÃ¡gina de inicio
â”‚   â”‚   â”œâ”€â”€ services/                      # Servicios de API
â”‚   â”‚   â”‚   â”œâ”€â”€ apiClient.ts               # Cliente HTTP
â”‚   â”‚   â”‚   â”œâ”€â”€ authService.ts             # AutenticaciÃ³n
â”‚   â”‚   â”‚   â”œâ”€â”€ indicatorService.ts        # Indicadores
â”‚   â”‚   â”‚   â”œâ”€â”€ reportService.ts           # Reportes
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ context/                       # Context API
â”‚   â”‚   â”‚   â”œâ”€â”€ AppContext.tsx             # Estado global
â”‚   â”‚   â”‚   â””â”€â”€ AuthContext.tsx            # AutenticaciÃ³n
â”‚   â”‚   â”œâ”€â”€ hooks/                         # Custom Hooks
â”‚   â”‚   â”‚   â”œâ”€â”€ useIndicators.ts           # LÃ³gica de indicadores
â”‚   â”‚   â”‚   â”œâ”€â”€ useReports.ts              # LÃ³gica de reportes
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ types/                         # Tipos TypeScript
â”‚   â”‚   â”œâ”€â”€ styles/                        # Estilos globales
â”‚   â”‚   â”œâ”€â”€ App.tsx                        # Componente raÃ­z
â”‚   â”‚   â””â”€â”€ main.tsx                       # Entry point
â”‚   â”œâ”€â”€ public/                            # Archivos estÃ¡ticos
â”‚   â”œâ”€â”€ vite.config.ts                     # ConfiguraciÃ³n Vite
â”‚   â”œâ”€â”€ tsconfig.json                      # ConfiguraciÃ³n TypeScript
â”‚   â””â”€â”€ package.json                       # Dependencias
â”‚
â”œâ”€â”€ âš™ï¸ backend/                            # Servidor Express
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app.js                         # ConfiguraciÃ³n Express
â”‚   â”‚   â”œâ”€â”€ server.js                      # Punto de entrada
â”‚   â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”‚   â”œâ”€â”€ database.js                # ConexiÃ³n MySQL
â”‚   â”‚   â”‚   â””â”€â”€ apiConfig.js               # ConfiguraciÃ³n APIs
â”‚   â”‚   â”œâ”€â”€ models/                        # Modelos Sequelize
â”‚   â”‚   â”‚   â”œâ”€â”€ User.js                    # Usuarios
â”‚   â”‚   â”‚   â”œâ”€â”€ Region.js                  # Regiones
â”‚   â”‚   â”‚   â”œâ”€â”€ Indicator.js               # Indicadores
â”‚   â”‚   â”‚   â”œâ”€â”€ Report.js                  # Reportes
â”‚   â”‚   â”‚   â”œâ”€â”€ Dataset.js                 # Datasets
â”‚   â”‚   â”‚   â”œâ”€â”€ ETLLog.js                  # Logs ETL
â”‚   â”‚   â”‚   â””â”€â”€ Index.js                   # Inicializador
â”‚   â”‚   â”œâ”€â”€ controllers/                   # Controladores
â”‚   â”‚   â”‚   â”œâ”€â”€ IndicatorController.js     # LÃ³gica de indicadores
â”‚   â”‚   â”‚   â”œâ”€â”€ RegionController.js        # LÃ³gica de regiones
â”‚   â”‚   â”‚   â”œâ”€â”€ ReportController.js        # LÃ³gica de reportes
â”‚   â”‚   â”‚   â”œâ”€â”€ AuthController.js          # AutenticaciÃ³n
â”‚   â”‚   â”‚   â”œâ”€â”€ ETLLogController.js        # Logs ETL
â”‚   â”‚   â”‚   â””â”€â”€ DatasetController.js       # Datasets
â”‚   â”‚   â”œâ”€â”€ routes/                        # Rutas API
â”‚   â”‚   â”‚   â”œâ”€â”€ index.js                   # Rutas principales
â”‚   â”‚   â”‚   â”œâ”€â”€ indicatorRoutes.js         # Rutas indicadores
â”‚   â”‚   â”‚   â”œâ”€â”€ regionRoutes.js            # Rutas regiones
â”‚   â”‚   â”‚   â”œâ”€â”€ reportRoutes.js            # Rutas reportes
â”‚   â”‚   â”‚   â”œâ”€â”€ authRoutes.js              # Rutas auth
â”‚   â”‚   â”‚   â”œâ”€â”€ etlRoutes.js               # Rutas ETL
â”‚   â”‚   â”‚   â”œâ”€â”€ datasetRoutes.js           # Rutas datasets
â”‚   â”‚   â”‚   â””â”€â”€ api.js                     # API principal
â”‚   â”‚   â”œâ”€â”€ services/                      # Servicios
â”‚   â”‚   â”‚   â”œâ”€â”€ ETLService.js              # Procesamiento ETL
â”‚   â”‚   â”‚   â”œâ”€â”€ ExternalAPIService.js      # APIs externas
â”‚   â”‚   â”‚   â”œâ”€â”€ ReportGeneratorService.js  # GeneraciÃ³n reportes
â”‚   â”‚   â”‚   â”œâ”€â”€ ChartDataService.js        # Datos grÃ¡ficos
â”‚   â”‚   â”‚   â””â”€â”€ DataUpdateService.js       # ActualizaciÃ³n datos
â”‚   â”‚   â”œâ”€â”€ middleware/                    # Middlewares
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.js                    # AutenticaciÃ³n
â”‚   â”‚   â”‚   â”œâ”€â”€ roleMiddleware.js          # Control de roles
â”‚   â”‚   â”‚   â””â”€â”€ errorHandler.js            # Manejo de errores
â”‚   â”‚   â””â”€â”€ utils/                         # Utilidades
â”‚   â”‚       â”œâ”€â”€ constants.js               # Constantes
â”‚   â”‚       â””â”€â”€ helpers.js                 # Funciones auxiliares
â”‚   â”œâ”€â”€ __tests__/                         # Tests unitarios
â”‚   â”‚   â””â”€â”€ unit/
â”‚   â”‚       â”œâ”€â”€ IndicatorController.test.js
â”‚   â”‚       â”œâ”€â”€ ComparisonAndETL.test.js
â”‚   â”‚       â”œâ”€â”€ ExternalAPI.test.js
â”‚   â”‚       â”œâ”€â”€ FiltersAndAlerts.test.js
â”‚   â”‚       â””â”€â”€ ReportService.test.js
â”‚   â”œâ”€â”€ scripts/
â”‚   â”‚   â””â”€â”€ seedDatabase.js                # Seed de datos
â”‚   â”œâ”€â”€ jest.config.js                     # ConfiguraciÃ³n Jest
â”‚   â””â”€â”€ package.json                       # Dependencias
â”‚
â”œâ”€â”€ ğŸ“„ DocumentaciÃ³n/
â”‚   â”œâ”€â”€ TEST_REPORT.md                     # Reporte de pruebas
â”‚   â”œâ”€â”€ ARCHITECTURE.md                    # Este archivo
â”‚   â”œâ”€â”€ API_DOCUMENTATION.md               # DocumentaciÃ³n API
â”‚   â”œâ”€â”€ IMPLEMENTATION_DETAILS.md          # Detalles implementaciÃ³n
â”‚   â”œâ”€â”€ COMPLETION_REPORT.md               # Reporte completitud
â”‚   â”œâ”€â”€ TESTING_SUMMARY.md                 # Resumen testing
â”‚   â”œâ”€â”€ FINAL_CHECKLIST.md                 # Checklist final
â”‚   â””â”€â”€ README.md                          # DocumentaciÃ³n principal
â”‚
â””â”€â”€ ğŸ“Š Datos/
    â”œâ”€â”€ test-results.json                  # Resultados tests
    â””â”€â”€ coverage/                          # Cobertura cÃ³digo
```

---

## ğŸ› ï¸ TECNOLOGÃAS UTILIZADAS

### Frontend
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TECNOLOGÃA      â”‚ VERSIÃ“N â”‚ PROPÃ“SITO                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ React           â”‚ 18.x    â”‚ Framework UI                â”‚
â”‚ TypeScript      â”‚ 5.x     â”‚ Tipado estÃ¡tico             â”‚
â”‚ Vite            â”‚ 5.x     â”‚ Build tool y dev server     â”‚
â”‚ Tailwind CSS    â”‚ 3.x     â”‚ Estilos utilitarios         â”‚
â”‚ Axios           â”‚ 1.x     â”‚ Cliente HTTP                â”‚
â”‚ React Router    â”‚ 6.x     â”‚ Enrutamiento               â”‚
â”‚ Context API     â”‚ 18.x    â”‚ Estado global              â”‚
â”‚ PostCSS         â”‚ 8.x     â”‚ Procesamiento CSS          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Backend
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TECNOLOGÃA      â”‚ VERSIÃ“N â”‚ PROPÃ“SITO                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Node.js         â”‚ 22.x    â”‚ Runtime JavaScript          â”‚
â”‚ Express.js      â”‚ 5.x     â”‚ Framework HTTP              â”‚
â”‚ Sequelize       â”‚ 6.x     â”‚ ORM SQL                     â”‚
â”‚ MySQL           â”‚ 8.x     â”‚ Base de datos               â”‚
â”‚ JWT             â”‚ 9.x     â”‚ AutenticaciÃ³n               â”‚
â”‚ bcryptjs        â”‚ 3.x     â”‚ EncriptaciÃ³n contraseÃ±as    â”‚
â”‚ Axios           â”‚ 1.x     â”‚ Cliente HTTP                â”‚
â”‚ json2csv        â”‚ 6.x     â”‚ ExportaciÃ³n CSV             â”‚
â”‚ CORS            â”‚ 2.x     â”‚ Control de origen           â”‚
â”‚ Dotenv          â”‚ 16.x    â”‚ Variables de entorno        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Testing
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TECNOLOGÃA      â”‚ VERSIÃ“N â”‚ PROPÃ“SITO                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Jest            â”‚ 29.x    â”‚ Framework testing           â”‚
â”‚ Supertest       â”‚ 6.x     â”‚ Testing HTTP                â”‚
â”‚ @types/jest     â”‚ 29.x    â”‚ Tipado Jest                 â”‚
â”‚ Vitest          â”‚ (prep)  â”‚ Testing frontend            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Base de Datos
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ COMPONENTE      â”‚ DETALLES                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ SGBD            â”‚ MySQL 8.0+                            â”‚
â”‚ ORM             â”‚ Sequelize 6.x                         â”‚
â”‚ Driver          â”‚ mysql2                                â”‚
â”‚ Pool Conexiones â”‚ Activo (10-20 conexiones)             â”‚
â”‚ Transacciones   â”‚ Soportadas                            â”‚
â”‚ Ãndices         â”‚ Optimizados para consultas            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—„ï¸ DIAGRAMA DE BASE DE DATOS

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     MySQL DATABASE                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   USERS     â”‚      â”‚   REGIONS   â”‚      â”‚  DATASETS    â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚ id (PK)     â”‚      â”‚ id (PK)     â”‚      â”‚ id (PK)      â”‚    â”‚
â”‚  â”‚ email       â”‚      â”‚ name        â”‚      â”‚ name         â”‚    â”‚
â”‚  â”‚ password    â”‚      â”‚ code        â”‚      â”‚ description  â”‚    â”‚
â”‚  â”‚ role        â”‚      â”‚ latitude    â”‚      â”‚ source       â”‚    â”‚
â”‚  â”‚ createdAt   â”‚      â”‚ longitude   â”‚      â”‚ year         â”‚    â”‚
â”‚  â”‚ updatedAt   â”‚      â”‚ createdAt   â”‚      â”‚ createdAt    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ updatedAt   â”‚      â”‚ updatedAt    â”‚    â”‚
â”‚                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                  â”‚                              â”‚
â”‚                                  â”‚ 1:N                         â”‚
â”‚                                  â”‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚                              â”‚
â”‚  â”‚     INDICATORS           â”‚â—„â”€â”€â”˜                              â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                  â”‚
â”‚  â”‚ id (PK)                  â”‚                                  â”‚
â”‚  â”‚ code                     â”‚                                  â”‚
â”‚  â”‚ name                     â”‚                                  â”‚
â”‚  â”‚ value                    â”‚                                  â”‚
â”‚  â”‚ year                     â”‚                                  â”‚
â”‚  â”‚ region_id (FK)           â”‚                                  â”‚
â”‚  â”‚ dataset_id (FK)          â”‚                                  â”‚
â”‚  â”‚ createdAt                â”‚                                  â”‚
â”‚  â”‚ updatedAt                â”‚                                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
â”‚           â”‚                                                    â”‚
â”‚           â”‚ 1:N                                               â”‚
â”‚           â–¼                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚
â”‚  â”‚      REPORTS             â”‚                                  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                  â”‚
â”‚  â”‚ id (PK)                  â”‚                                  â”‚
â”‚  â”‚ title                    â”‚                                  â”‚
â”‚  â”‚ description              â”‚                                  â”‚
â”‚  â”‚ format (PDF/CSV/JSON)    â”‚                                  â”‚
â”‚  â”‚ status                   â”‚                                  â”‚
â”‚  â”‚ region_id (FK)           â”‚                                  â”‚
â”‚  â”‚ user_id (FK)             â”‚                                  â”‚
â”‚  â”‚ createdAt                â”‚                                  â”‚
â”‚  â”‚ updatedAt                â”‚                                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
â”‚           â”‚                                                    â”‚
â”‚           â”‚ 1:N                                               â”‚
â”‚           â–¼                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚
â”‚  â”‚      ETL_LOGS            â”‚                                  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                  â”‚
â”‚  â”‚ id (PK)                  â”‚                                  â”‚
â”‚  â”‚ source                   â”‚                                  â”‚
â”‚  â”‚ status                   â”‚                                  â”‚
â”‚  â”‚ recordsProcessed         â”‚                                  â”‚
â”‚  â”‚ error                    â”‚                                  â”‚
â”‚  â”‚ startTime                â”‚                                  â”‚
â”‚  â”‚ endTime                  â”‚                                  â”‚
â”‚  â”‚ createdAt                â”‚                                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ FLUJO DE DATOS

### 1. Flujo de Carga Inicial de Indicadores

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Usuario   â”‚
â”‚  abre app   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frontend: Dashboard.tsx                â”‚
â”‚ - useEffect(): cargar indicadores      â”‚
â”‚ - axios.get('/api/indicators')         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼ HTTP Request
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Backend: /api/indicators               â”‚
â”‚ - indicatorRoutes.js                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Controller: IndicatorController        â”‚
â”‚ - getIndicators(req, res)              â”‚
â”‚ - validates filters (region, year)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Service: ChartDataService              â”‚
â”‚ - formatForChart(data)                 â”‚
â”‚ - normalizeValues()                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Model: Indicator.findAll()             â”‚
â”‚ - Sequelize ORM Query                  â”‚
â”‚ - WHERE regiÃ³n = X AND aÃ±o = Y         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MySQL Database                         â”‚
â”‚ - SELECT * FROM indicators WHERE ...   â”‚
â”‚ - Returns 50-100 records               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼ Response (JSON)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frontend: receives data                â”‚
â”‚ - Updates state via hook               â”‚
â”‚ - Renders chart component              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User sees:                             â”‚
â”‚ âœ… Indicadores cargados en grÃ¡fico    â”‚
â”‚ âœ… Filtros funcionando                 â”‚
â”‚ âœ… Datos actualizados en tiempo real   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. Flujo de GeneraciÃ³n de Reporte

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Usuario      â”‚
â”‚ clicks gen   â”‚
â”‚ reporte      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frontend: Reports.tsx                     â”‚
â”‚ - selecciona parÃ¡metros                   â”‚
â”‚ - POST /api/reports/generate              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Backend: ReportController                 â”‚
â”‚ - generateReport(req, res)                â”‚
â”‚ - validates permissions                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Service: ReportGeneratorService           â”‚
â”‚ - fetchData(filters)                      â”‚
â”‚ - formatData()                            â”‚
â”‚ - generatePDF/CSV/JSON                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                â”‚
       â–¼                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PDF Gen     â”‚  â”‚ CSV/JSON Export  â”‚
â”‚ (pdfkit)    â”‚  â”‚ (json2csv)       â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                  â”‚
       â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Save to Database (Reports table)       â”‚
â”‚ - Store report metadata                â”‚
â”‚ - Log generation timestamp             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frontend receives file                 â”‚
â”‚ - Trigger download                     â”‚
â”‚ - User gets PDF/CSV/JSON               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. Flujo de ActualizaciÃ³n ETL

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Scheduler Timer  â”‚
â”‚ (cada 6 horas)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Backend: ETLService          â”‚
â”‚ - runETLProcess()            â”‚
â”‚ - begins transaction         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚          â”‚           â”‚
    â–¼          â–¼           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MEN  â”‚  â”‚ DANE â”‚   â”‚ Fallback â”‚
â”‚ API  â”‚  â”‚ API  â”‚   â”‚  Data    â”‚
â””â”€â”€â”¬â”€â”€â”€â”˜  â””â”€â”€â”¬â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
   â”‚         â”‚             â”‚
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ExternalAPIService             â”‚
â”‚ - fetchFromMEN()               â”‚
â”‚ - fetchFromDANE()              â”‚
â”‚ - normalizeData()              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Transform & Validate           â”‚
â”‚ - parseFloat values            â”‚
â”‚ - checkRequiredFields()        â”‚
â”‚ - validateRanges()             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Save to Database               â”‚
â”‚ - Batch insert (1000 records)  â”‚
â”‚ - Update existing records      â”‚
â”‚ - Commit transaction           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Log ETL Execution              â”‚
â”‚ - recordsProcessed             â”‚
â”‚ - status: success/failed       â”‚
â”‚ - timestamps                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” FLUJO DE AUTENTICACIÃ“N

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. LOGIN                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚ Usuario -> POST /api/auth/login                        â”‚
â”‚           { email, password }                          â”‚
â”‚                                                         â”‚
â”‚ Backend:                                                â”‚
â”‚ 1. Find user by email                                   â”‚
â”‚ 2. bcrypt.compare(password, hash)                       â”‚
â”‚ 3. Generate JWT token                                   â”‚
â”‚ 4. Return { token, user, role }                         â”‚
â”‚                                                         â”‚
â”‚ Frontend:                                               â”‚
â”‚ 1. Store token in localStorage                          â”‚
â”‚ 2. Update AuthContext                                   â”‚
â”‚ 3. Redirect to dashboard                                â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. AUTHORIZED REQUESTS                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚ Frontend:                                               â”‚
â”‚ GET /api/protected                                      â”‚
â”‚ Headers: { Authorization: "Bearer JWT_TOKEN" }          â”‚
â”‚                                                         â”‚
â”‚ Backend Middleware:                                      â”‚
â”‚ 1. Extract token from headers                            â”‚
â”‚ 2. jwt.verify(token, SECRET)                             â”‚
â”‚ 3. Check user exists and role                            â”‚
â”‚ 4. Allow or deny access                                  â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. ROLE-BASED ACCESS CONTROL                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚ Roles:                                                  â”‚
â”‚ â€¢ admin      - Acceso completo                         â”‚
â”‚ â€¢ analyst    - Lectura + exportar                      â”‚
â”‚ â€¢ viewer     - Solo lectura                            â”‚
â”‚                                                         â”‚
â”‚ Middleware Check:                                       â”‚
â”‚ if (user.role !== requiredRole) {                       â”‚
â”‚   return 403 Forbidden                                 â”‚
â”‚ }                                                       â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”Œ INTEGRACIÃ“N CON APIs EXTERNAS

### MEN API (Ministerio de EducaciÃ³n)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MINISTERIO DE EDUCACIÃ“N API                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚ Endpoint: https://www.mineducacion.gov.co/apirest/     â”‚
â”‚                                                         â”‚
â”‚ Datos Disponibles:                                      â”‚
â”‚ â€¢ Cobertura bruta por regiÃ³n y aÃ±o                      â”‚
â”‚ â€¢ Tasa de deserciÃ³n                                     â”‚
â”‚ â€¢ RetenciÃ³n escolar                                     â”‚
â”‚ â€¢ MatrÃ­cula por nivel                                   â”‚
â”‚                                                         â”‚
â”‚ IntegraciÃ³n:                                            â”‚
â”‚ 1. ExternalAPIService.fetchFromMEN()                    â”‚
â”‚ 2. Normaliza datos al formato interno                   â”‚
â”‚ 3. Valida y transforma tipos                            â”‚
â”‚ 4. Inserta en DB (batch de 1000)                        â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### DANE API (Departamento Administrativo Nacional)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DANE API (EstadÃ­sticas)                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚ Endpoint: https://www.dane.gov.co/api/                 â”‚
â”‚                                                         â”‚
â”‚ Datos Disponibles:                                      â”‚
â”‚ â€¢ PoblaciÃ³n por regiÃ³n                                  â”‚
â”‚ â€¢ PIB regional                                          â”‚
â”‚ â€¢ Indicadores socioeconÃ³micos                           â”‚
â”‚ â€¢ Ãndice de desarrollo humano                           â”‚
â”‚                                                         â”‚
â”‚ IntegraciÃ³n:                                            â”‚
â”‚ 1. ExternalAPIService.fetchFromDANE()                   â”‚
â”‚ 2. Normaliza para anÃ¡lisis comparativo                  â”‚
â”‚ 3. Asocia con indicadores educativos                    â”‚
â”‚ 4. Enriquece el anÃ¡lisis                                â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š MODELOS DE DATOS

### User
```javascript
{
  id: Integer (PK),
  email: String (UNIQUE),
  password: String (bcrypt),
  firstName: String,
  lastName: String,
  role: Enum('admin', 'analyst', 'viewer'),
  department: String,
  createdAt: DateTime,
  updatedAt: DateTime
}
```

### Region
```javascript
{
  id: Integer (PK),
  name: String,        // "Antioquia", "BogotÃ¡", etc.
  code: String,        // "ANT", "BOG"
  latitude: Float,
  longitude: Float,
  population: Integer,
  gdp: Decimal,
  createdAt: DateTime,
  updatedAt: DateTime
}
```

### Indicator
```javascript
{
  id: Integer (PK),
  code: String,        // "cobertura_bruta"
  name: String,
  value: Float,
  year: Integer,       // 2018-2024
  region_id: Integer (FK),
  dataset_id: Integer (FK),
  unit: String,        // "%", "personas"
  description: String,
  createdAt: DateTime,
  updatedAt: DateTime
}
```

### Report
```javascript
{
  id: Integer (PK),
  title: String,
  description: String,
  format: Enum('PDF', 'CSV', 'JSON'),
  status: Enum('pending', 'completed', 'error'),
  region_id: Integer (FK),
  user_id: Integer (FK),
  filters: JSON,       // ParÃ¡metros de filtro
  fileUrl: String,
  errorMessage: String,
  createdAt: DateTime,
  updatedAt: DateTime
}
```

### ETLLog
```javascript
{
  id: Integer (PK),
  source: String,      // "MEN_API", "DANE_API"
  status: Enum('success', 'failed'),
  recordsProcessed: Integer,
  recordsCreated: Integer,
  recordsUpdated: Integer,
  error: String,
  startTime: DateTime,
  endTime: DateTime,
  duration: Integer,   // ms
  createdAt: DateTime
}
```

---

## ğŸš€ DESPLIEGUE Y CONFIGURACIÃ“N

### Variables de Entorno (.env)

```bash
# Database
DB_HOST=localhost
DB_PORT=3306
DB_NAME=edudata
DB_USER=root
DB_PASSWORD=password

# Server
PORT=3001
NODE_ENV=development
LOG_LEVEL=info

# JWT
JWT_SECRET=your-secret-key-here
JWT_EXPIRATION=7d

# External APIs
MEN_API_URL=https://www.mineducacion.gov.co/apirest/
DANE_API_URL=https://www.dane.gov.co/api/
API_TIMEOUT=30000

# CORS
FRONTEND_URL=http://localhost:5173
ALLOWED_ORIGINS=localhost:5173,localhost:3001

# File Upload
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=52428800  # 50MB
```

### Docker Compose (Opcional)

```yaml
version: '3.8'
services:
  mysql:
    image: mysql:8.0
    environment:
      MYSQL_DATABASE: edudata
      MYSQL_ROOT_PASSWORD: password
    ports:
      - "3306:3306"
    volumes:
      - mysql_data:/var/lib/mysql

  backend:
    build: ./backend
    ports:
      - "3001:3001"
    depends_on:
      - mysql
    environment:
      DB_HOST: mysql
      NODE_ENV: production

  frontend:
    build: ./frontend
    ports:
      - "5173:5173"
    environment:
      VITE_API_URL: http://localhost:3001

volumes:
  mysql_data:
```

---

## ğŸ“ˆ ESCALABILIDAD

### Optimizaciones Implementadas

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RENDIMIENTO                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Ãndices en BD para consultas frecuentes          â”‚
â”‚ â€¢ Batch insert para 1000+ registros                â”‚
â”‚ â€¢ Connection pooling (10-20 conexiones)            â”‚
â”‚ â€¢ CachÃ© en frontend (Context API)                  â”‚
â”‚ â€¢ CompresiÃ³n de respuestas HTTP                    â”‚
â”‚ â€¢ Lazy loading de componentes                      â”‚
â”‚                                                     â”‚
â”‚ RESULTADOS:                                         â”‚
â”‚ â€¢ Tiempo respuesta API: < 200ms                    â”‚
â”‚ â€¢ Carga BD inicial: < 1s                           â”‚
â”‚ â€¢ GeneraciÃ³n reporte: < 5s                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Capacidad de Almacenamiento

```
Datos Actuales:
â€¢ 32 regiones
â€¢ 15 indicadores
â€¢ 7 aÃ±os (2018-2024)
â€¢ 3,465 registros indicadores

Escalable a:
â€¢ 500+ regiones (ampliaciÃ³n regional)
â€¢ 100+ indicadores (nuevas mÃ©tricas)
â€¢ 50+ aÃ±os histÃ³ricos
â€¢ 500,000+ registros

Requisitos:
â€¢ MySQL 8.0+ con SSD
â€¢ 50GB almacenamiento inicial
â€¢ 200GB a 5 aÃ±os
```

---

## ğŸ§ª PRUEBAS

### Cobertura de Testing

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UNIT TESTS                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ… Controllers (7 tests)         â”‚
â”‚ âœ… Services (16 tests)           â”‚
â”‚ âœ… External APIs (10 tests)      â”‚
â”‚ âœ… Filters & Alerts (7 tests)    â”‚
â”‚ âœ… ETL Process (4 tests)         â”‚
â”‚ Total: 48 tests (100% pass)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PRÃ“XIMAS FASES                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â³ Integration Tests              â”‚
â”‚ â³ E2E Tests                      â”‚
â”‚ â³ Performance Tests              â”‚
â”‚ â³ Load Tests                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“š REFERENCIAS Y ENLACES

### DocumentaciÃ³n Oficial
- [Express.js Docs](https://expressjs.com)
- [Sequelize Docs](https://sequelize.org)
- [React Docs](https://react.dev)
- [TypeScript Docs](https://www.typescriptlang.org)

### APIs Integradas
- [MEN API](https://www.mineducacion.gov.co)
- [DANE API](https://www.dane.gov.co)

### Herramientas de Desarrollo
- [Vite](https://vitejs.dev)
- [Jest](https://jestjs.io)
- [Tailwind CSS](https://tailwindcss.com)

---

## ğŸ“ NOTAS ADICIONALES

### Seguridad Implementada
- âœ… ContraseÃ±as encriptadas con bcryptjs
- âœ… JWT para autenticaciÃ³n sin estado
- âœ… CORS configurado restrictivamente
- âœ… ValidaciÃ³n de entrada en todos los endpoints
- âœ… Middleware de control de errores
- âœ… Role-based access control (RBAC)

### Monitoreo y Logging
- âœ… Logs de ETL con timestamps
- âœ… Registro de cambios en reportes
- âœ… AuditorÃ­a de accesos de usuarios
- âœ… Error tracking centralizado

### Mantenimiento
- âœ… CÃ³digo modular y reutilizable
- âœ… DocumentaciÃ³n inline en cÃ³digo
- âœ… Seed script para datos de prueba
- âœ… Migraciones de BD automÃ¡ticas

---

**Documento VersiÃ³n:** 1.0.0  
**Ãšltima ActualizaciÃ³n:** 2024-12-19  
**Estado:** âœ… COMPLETO
